<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.98.0">
    <title>lo更改密碼</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.2/examples/modals/">
    {% load static %}
    <link href="{% static 'bootstrap.min.css' %}" rel="stylesheet">
    <!-- Custom styles for this template -->
    <script src="../../static/js/jquery.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <link rel="shortcut icon"   href="../../static/images/logo/logo-removebg-preview.png" type="image/x-icon" />
  </head>
    <style>
    .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .b-example-divider {
        height: 3rem;
        background-color: rgba(0, 0, 0, .1);
        border: solid rgba(0, 0, 0, .15);
        border-width: 1px 0;
        box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
      }

      .b-example-vr {
        flex-shrink: 0;
        width: 1.5rem;
        height: 100vh;
      }

      .bi {
        vertical-align: -.125em;
        fill: currentColor;
      }

      .nav-scroller {
        position: relative;
        z-index: 2;
        height: 2.75rem;
        overflow-y: hidden;
      }
      .relative{
        position:relative;
      }
      .lookyes{
        display: block;
        top: 20px;
        position:absolute;
        right: 15px;
        z-index: 5;
      }
      .lookno{
        top: 20px;
        position:absolute;
        right: 15px;
        z-index: 5;
        display: none;
      }
      .nav-scroller .nav {
        display: flex;
        flex-wrap: nowrap;
        padding-bottom: 1rem;
        margin-top: -1px;
        overflow-x: auto;
        text-align: center;
        white-space: nowrap;
        -webkit-overflow-scrolling: touch;
    }
      .buttonsubmit {
        margin-left: auto !important;
        margin-right: auto !important;
        box-shadow:inset 0px 1px 0px 0px #ffffff;
	background:linear-gradient(to bottom, #ededed 5%, #dfdfdf 100%);
	background-color:#ededed;
	border-radius:8px;
	border:1px solid #dcdcdc;
	display:inline-block;
	cursor:pointer;
	color:#6b616b;
	font-family:Times New Roman;
	font-size:17px;
	font-weight:bold;
	padding:8px 24px;
	text-decoration:none;
	text-shadow:0px 1px 0px #ffffff;
        }
        .buttonsubmit:hover {
            background:linear-gradient(to bottom, #e9e9e9 5%, #f9f9f9 100%);
            background-color:#e9e9e9;
        }
        .buttonsubmit:active {
            position:relative;
            top:1px;
        }
      .content{
        margin-top: 10px;
      }

    </style>
  <body>
<!----position-static:static py-5:1--->
<div class="modal modal-signin position-static d-block bg-secondary py-5" tabindex="-1" role="dialog" id="modalSignin">
    <a href="{% url 'out' %}" id="defind_page"></a>
  <div class="modal-dialog" role="document">
    <div class="modal-content rounded-4 shadow">
        <div class="modal-header p-5 pb-4 border-bottom-0">
            <!-- <h5 class="modal-title">Modal title</h5> -->
            <h2 class="fw-bold mb-0">更改密碼</h2>
            <a href="{% url 'sing_in' %}"><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></a>
          </div>
          <div class="modal-body p-5 pt-0">
            <form action="{% url 'change_password' %}" method="POST" id="form2">
                {% csrf_token %}
                <div class="content">
                    <div class="form-floating mb-3 relative">
                        <input type="password" class="form-control rounded-3" id="new_password" name='new_password' placeholder="Password" required >
                        <label for="new_password" ><strong>新密碼:</strong></label>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-eye lookyes" viewBox="0 0 16 16">
                          <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                          <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-eye-slash lookno" viewBox="0 0 16 16">
                          <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
                          <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
                          <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
                        </svg>
                      </div>
                      <div class="form-floating mb-3 relative">
                        <input type="password" class="form-control rounded-3" id="check_password" name='check_password' placeholder="Password" viewBox="0 0 16 16" required >
                        <label for="check_password" ><strong>確認密碼:</strong></label>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-eye lookyes" viewBox="0 0 16 16">
                          <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                          <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                        </svg>
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-eye-slash lookno" viewBox="0 0 16 16">
                          <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
                          <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
                          <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
                        </svg>
                      </div>
                      <input type="button" value="提交" class="buttonsubmit d-flex justify-content-center" id="buttonsubmit" >
                  </form>
                </div>
            </div>
          </div>
      </div>
    </div>
</div>
</body>
{% if message == 0  %}
<script>
swal({
      title: "密碼格式錯誤!",
      text: '密碼只能出現大小寫英文和數字!',
      icon: "error",
      button: "好的",
      });
      document.getElementById('check_password').style.outline ="3px solid rgb(255,0,0,0.5)";
      document.getElementById('new_password').style.outline ="3px solid rgb(255,0,0,0.5)";

</script>
{% elif message == 1 %}
<script>
swal({
      title: "密碼長度錯誤!",
      text: '密碼長度為6~16位數!',
      icon: "error",
      button: "好的",
      });
      document.getElementById('check_password').style.outline ="3px solid rgb(255,0,0,0.5)";
      document.getElementById('new_password').style.outline ="3px solid rgb(255,0,0,0.5)";
</script>
{% elif message == 2 %}
<script>
swal({
      title: "修改完成!",
      text: '恭喜您更改成功!',
      icon: "success",
      button: "好的",
      }).then(() => {
        document.getElementById('defind_page').click();
      });
</script>
{% endif %}
<script>
    window.onload = function(){
      document.getElementsByClassName('lookyes')[0].addEventListener('click',look1)
      document.getElementsByClassName('lookno')[0].addEventListener('click',look1)
      document.getElementsByClassName('lookyes')[1].addEventListener('click',look2)
      document.getElementsByClassName('lookno')[1].addEventListener('click',look2)
    }
      function look1(){
        let lookyes =document.getElementsByClassName('lookyes')[0]
      let lookno = document.getElementsByClassName('lookno')[0]
        if(getComputedStyle(lookyes,'display').display=='block'){
          lookyes.style.display = 'none';
          lookno.style.display = 'block';
          type =document.getElementById('new_password');
          type.type='text';
        }else{
          lookyes.style.display = 'block';
          lookno.style.display = 'none';
          type =document.getElementById('new_password');
          type.type='password';
        }
      }
      function look2(){
        let lookyes =document.getElementsByClassName('lookyes')[1]
      let lookno = document.getElementsByClassName('lookno')[1]
        if(getComputedStyle(lookyes,'display').display=='block'){
          lookyes.style.display = 'none';
          lookno.style.display = 'block';
          type =document.getElementById('check_password');
          type.type='text';
        }else{
          lookyes.style.display = 'block';
          lookno.style.display = 'none';
          type =document.getElementById('check_password');
          type.type='password';
        }
      }
      document.getElementById('buttonsubmit').addEventListener('click',function(){
        if(document.getElementById('check_password').value != document.getElementById('new_password').value ){
            swal({
                title: "密碼不同!",
                text: '請檢查您的密碼是否兩次都輸入正確!',
                icon: "error",
                button: "好的",
                });
                document.getElementById('check_password').style.outline ="3px solid rgb(255,0,0,0.5)";
        }
        else if(document.getElementById('check_password').value =='' || document.getElementById('new_password').value ==''){
          swal({
                title: "密碼不可為空!",
                text: '請檢查您的密碼是否不為空!',
                icon: "error",
                button: "好的",
                });
                document.getElementById('check_password').style.outline ="3px solid rgb(255,0,0,0.5)";
              document.getElementById('new_password').style.outline ="3px solid rgb(255,0,0,0.5)";
        }
        else{
            document.getElementById('form2').submit();
        }
      })
</script>